<!DOCTYPE html>

<!--[if IE 8]> <html lang="en" class="ie8 no-js"> <![endif]-->
<!--[if IE 9]> <html lang="en" class="ie9 no-js"> <![endif]-->
<!--[if !IE]><!-->
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<!--<![endif]-->
<!-- BEGIN HEAD -->

<head>
	<meta charset="utf-8" />
	<title th:text="${news.title}">第一资讯 - 新闻</title>
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta content="width=device-width, initial-scale=1.0" name="viewport" />
	<meta http-equiv="Content-type" content="text/html; charset=utf-8">
	<meta content="" name="description" />
	<meta content="" name="author" />
	<!-- BEGIN GLOBAL MANDATORY STYLES -->
	<link href="//netdna.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
	<link href="http://fonts.googleapis.com/css?family=Open+Sans:400,300,600,700&subset=all" rel="stylesheet"
		type="text/css">
	<link href="../static/css/font-awesome.min.css" rel="stylesheet" type="text/css">
	<link href="../static/css/simple-line-icons.min.css" rel="stylesheet" type="text/css">
	<link href="../static/css/bootstrap.min.css" rel="stylesheet" type="text/css">
	<link href="../static/css/uniform.default.css" rel="stylesheet" type="text/css">
	<link href="../static/css/bootstrap-switch.min.css" rel="stylesheet" type="text/css" />
	<!-- END GLOBAL MANDATORY STYLES -->
	<!-- BEGIN PAGE LEVEL STYLES -->
	<link href="../static/css/news.css" rel="stylesheet" type="text/css" />
	<link href="../static/css/blog.css" rel="stylesheet" type="text/css" />
	<!-- END PAGE LEVEL STYLES -->
	<!-- BEGIN THEME STYLES -->
	<link href="../static/css/components.css" id="style_components" rel="stylesheet" type="text/css" />
	<link href="../static/css/plugins.css" rel="stylesheet" type="text/css" />
	<link href="../static/css/layout.css" rel="stylesheet" type="text/css" />
	<link id="style_color" href="../static/css/grey.css" rel="stylesheet" type="text/css" />
	<link href="../static/css/custom.css" rel="stylesheet" type="text/css" />
	<!-- END THEME STYLES -->
</head>
<!-- END HEAD -->
<!-- BEGIN BODY -->
<!-- DOC: Apply "page-header-fixed-mobile" and "page-footer-fixed-mobile" class to body element to force fixed header or footer in mobile devices -->
<!-- DOC: Apply "page-sidebar-closed" class to the body and "page-sidebar-menu-closed" class to the sidebar menu element to hide the sidebar by default -->
<!-- DOC: Apply "page-sidebar-hide" class to the body to make the sidebar completely hidden on toggle -->
<!-- DOC: Apply "page-sidebar-closed-hide-logo" class to the body element to make the logo hidden on sidebar toggle -->
<!-- DOC: Apply "page-sidebar-hide" class to body element to completely hide the sidebar on sidebar toggle -->
<!-- DOC: Apply "page-sidebar-fixed" class to have fixed sidebar -->
<!-- DOC: Apply "page-footer-fixed" class to the body element to have fixed footer -->
<!-- DOC: Apply "page-sidebar-reversed" class to put the sidebar on the right side -->
<!-- DOC: Apply "page-full-width" class to the body element to have full width page without the sidebar menu -->

<body class="page-boxed page-header-fixed page-container-bg-solid page-sidebar-closed-hide-logo " onload="userinfo()">
	<!-- BEGIN HEADER -->
	<div class="page-header navbar navbar-fixed-top">
		<!-- BEGIN HEADER INNER -->
		<div class="page-header-inner container">
			<!-- BEGIN LOGO -->
			<div class="page-logo">
				<a href="/index.html">
					<img src="../static/img/logo-default.png" alt="logo" style="margin-top: 17px;"
						class="logo-default" />
				</a>
				<div class="menu-toggler sidebar-toggler">
					<!-- DOC: Remove the above "hide" to enable the sidebar toggler button on header -->
				</div>
			</div>
			<!-- END LOGO -->
			<!-- BEGIN RESPONSIVE MENU TOGGLER -->
			<a href="javascript:" class="menu-toggler responsive-toggler" data-toggle="collapse"
				data-target=".navbar-collapse">
			</a>
			<!-- END RESPONSIVE MENU TOGGLER -->
			<!-- BEGIN PAGE TOP -->
			<div class="page-top">
				<!-- BEGIN HEADER SEARCH BOX -->
				<!-- DOC: Apply "search-form-expanded" right after the "search-form" class to have half expanded search box -->
				<form class="search-form search-form-expanded" th:action="@{/searchnews}" method="post">
					<div class="input-group">
						<input type="text" class="form-control" placeholder="搜索新闻..." name="newsname">
						<span class="input-group-btn">
							<button type="submit" class="btn btn-success"><i class="icon-magnifier"></i></a></button>
						</span>
					</div>
				</form>
				<!-- END HEADER SEARCH BOX -->
				<!-- BEGIN TOP NAVIGATION MENU -->
				<div class="top-menu">
					<ul class="nav navbar-nav pull-right">


						<!-- BEGIN USER LOGIN DROPDOWN -->
						<!-- DOC: Apply "dropdown-dark" class after below "dropdown-extended" to change the dropdown styte -->
						<li class="dropdown dropdown-user">
							<a href="javascript:" class="dropdown-toggle" data-toggle="dropdown" data-hover="dropdown"
								data-close-others="true">
								<span class="username username-hide-on-mobile" id="user_span">
									请登录</span>
								<i class="fa fa-angle-down"></i>
							</a>
							<ul class="dropdown-menu dropdown-menu-default">
								<li>
									<a href="/extra_profile.html" id="user_profile">
										<i class="icon-user"></i> 个人中心 </a>
								</li>
								<li>
									<a href="/contributesubmit.html">
										<i class="icon-envelope-open"></i> 投稿窗口
									</a>
								</li>
								<li class="divider">
								</li>
								<li>
									<a href="/login.html" id="user_logout">
										<i class="icon-key"></i> 登录 </a>
								</li>
							</ul>
						</li>
						<!-- END USER LOGIN DROPDOWN -->
					</ul>
				</div>
				<!-- END TOP NAVIGATION MENU -->
			</div>
			<!-- END PAGE TOP -->
		</div>
		<!-- END HEADER INNER -->
	</div>
	<!-- END HEADER -->
	<div class="clearfix">
	</div>
	<div class="container">
		<!-- BEGIN CONTAINER -->
		<div class="page-container">
			<!-- BEGIN SIDEBAR -->
			<div class="page-sidebar-wrapper">
				<!-- DOC: Set data-auto-scroll="false" to disable the sidebar from auto scrolling/focusing -->
				<!-- DOC: Change data-auto-speed="200" to adjust the sub menu slide up/down speed -->
				<div class="page-sidebar navbar-collapse collapse">
					<!-- BEGIN SIDEBAR MENU -->
					<!-- DOC: Apply "page-sidebar-menu-light" class right after "page-sidebar-menu" to enable light sidebar menu style(without borders) -->
					<!-- DOC: Apply "page-sidebar-menu-hover-submenu" class right after "page-sidebar-menu" to enable hoverable(hover vs accordion) sub menu mode -->
					<!-- DOC: Apply "page-sidebar-menu-closed" class right after "page-sidebar-menu" to collapse("page-sidebar-closed" class must be applied to the body element) the sidebar sub menu mode -->
					<!-- DOC: Set data-auto-scroll="false" to disable the sidebar from auto scrolling/focusing -->
					<!-- DOC: Set data-keep-expand="true" to keep the submenues expanded -->
					<!-- DOC: Set data-auto-speed="200" to adjust the sub menu slide up/down speed -->
					<ul class="page-sidebar-menu page-sidebar-menu-hover-submenu " data-keep-expanded="false"
						data-auto-scroll="true" data-slide-speed="200">
						<li class="start active ">
							<a href="/index.html">
								<i class="icon-home"></i>
								<span class="title">首页</span>
							</a>
						</li>
						<li>
							<a href="/musenews.html">
								<i class="icon-music-tone"></i>
								<span class="title">娱乐</span>
							</a>
						</li>
						<li>
							<a href="/sportsnews.html">
								<i class="icon-flag"></i>
								<span class="title">体育</span>
							</a>
						</li>
						<li>
							<a href="/technews.html">
								<i class="icon-chemistry"></i>
								<span class="title">科技</span>
							</a>
						</li>
						<li>
							<a href="/militarynews.html">
								<i class="icon-rocket"></i>
								<span class="title">军事</span>
							</a>
						</li>
						<li>
							<a href="/financenews.html">
								<i class="icon-basket"></i>
								<span class="title">财经</span>
							</a>
						</li>
					</ul>
					<!-- END SIDEBAR MENU -->
				</div>
			</div>
			<!-- END SIDEBAR -->
			<!-- BEGIN CONTENT -->
			<div class="page-content-wrapper">
				<div class="page-content">
					<!-- BEGIN PAGE HEADER-->
					<h3 class="page-title">
						新闻查看 <small>新闻详细查看</small>
					</h3>
					<div class="page-bar">
						<ul class="page-breadcrumb">
							<li>
								<i class="fa fa-home"></i>
								<a href="/index.html">Home</a>
								<i class="fa fa-angle-right"></i>
							</li>
							<li>
								<a href="/#" th:text="${news.category}">分类</a>
								<i class="fa fa-angle-right"></i>
							</li>
							<li>
								<a href="/#" th:text="${news.title}">新闻标题</a>
							</li>
						</ul>
					</div>
					<!-- END PAGE HEADER-->
					<!-- BEGIN PAGE CONTENT-->
					<div class="portlet light">
						<div class="portlet-body">
							<div class="row">
								<div class="col-md-12 news-page blog-page">
									<div class="row">
										<div class="col-md-9 blog-tag-data">
											<h3 style="margin-top:0" th:text="${news.title}">新闻标题</h3>
											<img src="../static/img/item_img1.jpg" class="img-responsive" alt="">
											<div class="row">
												<div class="col-md-6">
													<ul class="list-inline blog-tags">
														<li>
															<i class="fa fa-tags "></i>
															<a href="javascript:" th:text="${news.category}">
																科技 </a>

														</li>
													</ul>
												</div>
												<div class="col-md-6 blog-tag-data-inner">
													<ul class="list-inline">
														<li>
															<i class="fa fa-star" onclick=" collect(this)" th:if="${news.iscollected}" title="取消收藏" style="min-width: 80px;" th:text="已收藏"> </i> 
															<i class="fa fa-star-o" onclick=" collect(this)" th:if="${not news.iscollected}" title="收藏" style="min-width: 80px;"> </i> 
															<i class="fa fa-calendar"></i>
															<a href="javascript:" th:text="${news.time}">
																April 16, 2020 </a>
														</li>
													</ul>
												</div>
											</div>
											<div class="news-item-page">
												<p th:text="${news.contents}">
													新闻测试用例总之就是编的。 新闻测试用例总之就是编的。 新闻测试用例总之就是编的。 新闻测试用例总之就是编的。
													新闻测试用例总之就是编的。 新闻测试用例总之就是编的。 新闻测试用例总之就是编的。 新闻测试用例总之就是编的。
													新闻测试用例总之就是编的。 新闻测试用例总之就是编的。 新闻测试用例总之就是编的。
													新闻测试用例总之就是编的。 新闻测试用例总之就是编的。 新闻测试用例总之就是编的。 新闻测试用例总之就是编的。
													新闻测试用例总之就是编的。 新闻测试用例总之就是编的。 新闻测试用例总之就是编的。 新闻测试用例总之就是编的。
													新闻测试用例总之就是编的。 新闻测试用例总之就是编的。 新闻测试用例总之就是编的。 新闻测试用例总之就是编的。
													新闻测试用例总之就是编的。 </p>
											</div>
											<hr>

											<i class="fa fa-comments" style="font-size: 22px"></i>
											<span style="font-size: 16px"> 评论 </span>
											<div class="media" id="没有评论时的话" style="display: true; font-size: 15px">
												还没有人发表评论，不要让楼主等待太久哦！
											</div>
											<div class="media" th:each="comment:${comment}">
												<a href="/javascript:" class="pull-left">
													<img alt="" src="../static/img/9.jpg" class="media-object" />
												</a>
												<div class="media-body">
													<h4 class="media-heading">
														[[${comment.author.username}]]
														<span> [[${comment.time}]] </span>
													</h4>
													<p th:text="${comment.contents}">
														好棒好喜欢支持了
													</p>
													<div class="top-menu">
														<ul class="nav navbar-nav pull-right">
															<li
																class="dropdown dropdown-extended dropdown-notification">
																<a th:attr="like_url=@{'/like/'+${comment.c_id}}"
																	onclick="commentLike(this)"
																	style="display: block; min-width: 50px;">
																	<i th:if="${not comment.islike} "
																		class="fa fa-heart-o" title="点赞">
																	</i>
																	<span
																		th:if="${comment.likes} ne 0 and ${not comment.islike} ">[[${comment.likes}]]</span>

																	<i th:if="${ comment.islike} " class="fa fa-heart"
																		title="取消点赞"></i>

																	<span
																		th:if="${comment.likes} ne 0 and ${comment.islike} ">[[${comment.likes}]]</span>
																</a>
															</li>
															<li
																class="dropdown dropdown-extended dropdown-notification">
																<a th:attr="del_url=@{'/commentdelete/'+${comment.c_id}}"
																	onclick="commentDelete(this)" title="删除评论">
																	<i class="fa fa-trash-o fa-lg">
																	</i>
																</a>
															</li>

														</ul>
													</div>
												</div>
											</div>
											<div class="clearfix">
											</div>
											<!--end media-->
											<!-- BEGIN CONTAINER -->
											<!--START PAGE CHANGER-->
											<div class="row" style="display: none; font-size: 17px">
												<ul class="pagination" style="visibility: visible; margin-left: 350px">
													<li class="prev"
														th:class="${pageInfo.prePage} == 0 ? 'disabled':'' ">
														<!-- 上一页-->
														<a th:href="${pageInfo.prePage} == 0 ? 'javascript:void(0)':@{'/newsitem/'+${n_id}+'?pageNum='+${pageInfo.prePage}}"
															title="上一页" aria-label="Previous">
															 ̰ <span aria-hidden="true">&laquo;</span>
														</a>
													</li>

													<li th:each="pageNum : ${pageInfo.navigatepageNums}">
														<a
															th:href="@{'/newsitem/'+${n_id}+'?pageNum='+${pageNum}}">[[${pageNum}]]</a>
													</li>

													<li class="next"
														th:class="${pageInfo.nextPage} == 0 ? 'disabled':'' ">
														<a th:href="${pageInfo.nextPage} == 0 ? 'javascript:void(0)':@{'/newsitem/'+${n_id}+'?pageNum='+${pageInfo.nextPage}}"
															title="下一页" aria-label="Next">
															<span aria-hidden="true">&raquo;</span>
														</a>
													</li>
												</ul>
											</div>




											<hr>
											<div class="post-comment">
												<h3>发表回复</h3>
												<form th:action="@{/publishcomment}" method="post">
													<!-- <div class="form-group">
													<label class="control-label">名称<span class="required">
													* </span>
													</label>
													<input type="text" class="form-control">
												</div> -->
													<div class="form-group">
														<input type="hidden" name="newsid" autocomplete="off"
															th:value="${news.n_id}" />
														<input type="hidden" name="commentuser" autocomplete="off"
															th:value="${session.user?.username}" />
														<label class="control-label">回复内容<span class="required">
																* </span>
														</label>
														<textarea class="col-md-10 form-control" rows="8"
															name="contents"></textarea>
													</div>

													<button class="margin-top-20 btn blue" type="submit">发表回复</button>

												</form>
											</div>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
					<!-- END PAGE CONTENT-->
				</div>
			</div>
			<!-- END CONTENT -->
			<!-- BEGIN QUICK SIDEBAR -->
			<!--Cooming Soon...-->
			<!-- END QUICK SIDEBAR -->

		</div>
		<form id="collectform" method="POST">
			<input type="hidden" name="u_id" autocomplete="off" th:value="${session.user?.u_id}" />
			<input type="hidden" name="n_id" autocomplete="off" th:value="${news.n_id}" />
			<input type="hidden" name="title" autocomplete="off" th:value="${news.title}" />
		</form>
		<form id="deletecommentForm" method="POST">
			<input type="hidden" name="_method" value="delete" />
			<input type="hidden" name="u_idnow" autocomplete="off" th:value="${session.user?.u_id}" />
		</form>
		<form id="likecommentForm" method="POST">
			<input type="hidden" name="_method" value="delete" />
			<input type="hidden" name="u_idnow" autocomplete="off" th:value="${session.user?.u_id}" />
			<input type="hidden" name="n_idnow" autocomplete="off" th:value="${news.n_id}" />
		</form>
		<!-- END CONTAINER -->
		<!-- BEGIN FOOTER -->
		<div class="page-footer">
			<div class="page-footer-inner">
				2020 DYZXWeb By SCUStudents
			</div>
			<div class="scroll-to-top">
				<i class="icon-arrow-up"></i>
			</div>
		</div>
		<!-- END FOOTER -->
	</div>

	<!-- BEGIN JAVASCRIPTS(Load javascripts at bottom, this will reduce page load time) -->
	<!-- BEGIN CORE PLUGINS -->
	<!--[if lt IE 9]>
<script src="/js/respond.min.js"></script>
<script src="/js/excanvas.min.js"></script>
<![endif]-->
	<script src="../static/js/jquery.min.js" type="text/javascript"></script>
	<script src="../static/js/jquery-migrate.min.js" type="text/javascript"></script>
	<!-- IMPORTANT! Load jquery-ui.min.js before bootstrap.min.js to fix bootstrap tooltip conflict with jquery ui tooltip -->
	<script src="../static/js/jquery-ui.min.js" type="text/javascript"></script>
	<script src="../static/js/bootstrap.min.js" type="text/javascript"></script>
	<script src="../static/js/bootstrap-hover-dropdown.min.js" type="text/javascript"></script>
	<script src="../static/js/jquery.slimscroll.min.js" type="text/javascript"></script>
	<script src="../static/js/jquery.blockui.min.js" type="text/javascript"></script>
	<script src="../static/js/jquery.cokie.min.js" type="text/javascript"></script>
	<script src="../static/js/jquery.uniform.min.js" type="text/javascript"></script>
	<script src="../static/js/bootstrap-switch.min.js" type="text/javascript"></script>
	<!-- END CORE PLUGINS -->
	<script src="../static/js/metronic.js" type="text/javascript"></script>
	<script src="../static/js/layout.js" type="text/javascript"></script>
	<script src="../static/js/demo.js" type="text/javascript"></script>
	<script th:inline="javascript">
		jQuery(document).ready(function () {
			Metronic.init(); // init metronic core components
			Layout.init(); // init current layout
			Demo.init(); // init demo features
		});
		function userinfo() {
			var usersname = [[${ session.user?.username }]];
			var userpermit = [[${ session.user?.permission }]];
			if (usersname != null) {
				$("#user_span").html(usersname);
				$("#user_logout").attr("href", "/loginOut").html("<i class=\"icon-key\" ></i>登出");
			}
			if (userpermit == 1) {
				$("#user_profile").attr("href", "/admincenter").html("<i class=\"icon-user\"></i> 管理中心");
			}
			if ([[${ pageInfo.total }]] != 0) {
				//	alert([[${pageInfo.total}]])
				$(".row").css("display", "block")
				$("#没有评论时的话").css("display", "none")
			}
			showresult();
		}
		function showresult() {
			var result = [[${ result }]];
			if (result != null)
				alert(result);
		}
		function commentDelete(parm) {
			// alert($("input[name='u_idnow']").val())
			var reconfirm = confirm("你确定要删除该评论吗？")
			if (reconfirm) {
				$("#deletecommentForm").attr("action", $(parm).attr("del_url")).submit();
			}
		}
		function commentLike(parm) {
			//alert($(parm).attr("like_url"))
			$("#likecommentForm").attr("action", $(parm).attr("like_url")).submit();
		}
		function collect(parm) {
			$("#collectform").attr("action", "/collectnews").submit();
		}
	</script>
	<!-- END JAVASCRIPTS -->
</body>
<!-- END BODY -->

</html>